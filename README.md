
# üéØ Telegram Task & Gift Bot (MVP)

–ü—Ä–æ—Å—Ç–æ–π MVP Telegram-–±–æ—Ç–∞ –Ω–∞ Go, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∑–∞–¥–∞–Ω–∏—è –∏–∑ –±–∞–Ω–∫–∞, –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–º–µ—á–∞—Ç—å –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –≤—ã–±–∏—Ä–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫ –∏–∑ —Å–ø–∏—Å–∫–∞.

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```

.
‚îú‚îÄ‚îÄ cmd
‚îÇ   ‚îî‚îÄ‚îÄ bot
‚îÇ       ‚îî‚îÄ‚îÄ main.go          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
‚îú‚îÄ‚îÄ internal
‚îÇ   ‚îú‚îÄ‚îÄ app
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bot.go           # –õ–æ–≥–∏–∫–∞ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞, —á—Ç–µ–Ω–∏–µ –∞–ø–¥–µ–π—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ handlers.go      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ /start, /tasks –∏ callback-–∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ db
‚îÇ       ‚îú‚îÄ‚îÄ db.go            # –†–∞–±–æ—Ç–∞ —Å PostgreSQL
‚îÇ       ‚îî‚îÄ‚îÄ migrations
‚îÇ           ‚îú‚îÄ‚îÄ 001\_create\_tables.sql
‚îÇ           ‚îú‚îÄ‚îÄ 002\_insert\_tasks.sql
‚îÇ           ‚îî‚îÄ‚îÄ 003\_insert\_gifts.sql
‚îú‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ go.sum
‚îú‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ docker-compose.yml

```

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- `/start` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- `/tasks` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞–Ω–∏–π
- Inline-–∫–Ω–æ–ø–∫–∏ –≤ —Å–ø–∏—Å–∫–µ –∑–∞–¥–∞–Ω–∏–π:
  - –û—Ç–º–µ—Ç–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ
  - –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚Äì –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ (–∑–∞–¥–∞–Ω–∏—è –∏ –ø–æ–¥–∞—Ä–∫–∏) —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω–æ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- –Ø–∑—ã–∫: Go (1.20+)
- Telegram API: [go-telegram-bot-api/v5](https://github.com/go-telegram-bot-api/telegram-bot-api)
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: PostgreSQL
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è: Docker & Docker Compose

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/xzescha/mvp-minor.git
cd telegram-task-bot
```

2. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` (–∏–ª–∏ –∑–∞–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `docker-compose.yml`):

```dotenv
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
POSTGRES_USER=user
POSTGRES_PASSWORD=password
POSTGRES_DB=appdb
```

3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤ `docker-compose.yml` —Å–æ–≤–ø–∞–¥–∞—é—Ç —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```yaml
services:
  db:
   environment:
      - POSTGRES_USER=${POSTGRES_USER}
      - POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
      - POSTGRES_DB=${POSTGRES_DB}
   volumes:
      - ./internal/db/migrations:/docker-entrypoint-initdb.d/
   bot:
   environment:
      - TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN}
      - POSTGRES_CONN=postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}?sslmode=disable
```

4. –ü–æ–¥–Ω—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

```bash
docker-compose down -v
docker-compose up --build
```

5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ë–î –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∞—Å—å (–º–∏–≥—Ä–∞—Ü–∏–∏ –∏–∑ `internal/db/migrations`):

```bash
docker-compose logs db
```

6. –û—Ç–∫—Ä—ã—Ç—å Telegram, –Ω–∞–π—Ç–∏ –±–æ—Ç–∞ –ø–æ —Ç–æ–∫–µ–Ω—É –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å:

```
/start
/tasks
```

## ‚öôÔ∏è –ú–∏–≥—Ä–∞—Ü–∏–∏

–í—Å–µ `.sql`-—Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `internal/db/migrations/` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Å—Ç–∞—Ä—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `db`.
–ï—Å–ª–∏ –≤—ã –≤–Ω–æ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–∏–≥—Ä–∞—Ü–∏–∏ ‚Äî —É–¥–∞–ª—è–π—Ç–µ —Ç–æ–º –¥–∞–Ω–Ω—ã—Ö –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–π—Ç–µ:

```bash
docker-compose down -v
docker-compose up --build
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

* –ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞–Ω–∏—è:

  ```
  /tasks
  ```
* –û—Ç–º–µ—Ç–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ:
  \<Inline-–∫–Ω–æ–ø–∫–∞ ‚Äú–ü—Ä–æ—á–∏—Ç–∞—Ç—å 3 –≥–ª–∞–≤—ã –∫–Ω–∏–≥–∏ ‚Äú–ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä‚Äù‚Äù>
* –í—ã–±—Ä–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫:
  \<Inline-–∫–Ω–æ–ø–∫–∞ ‚Äú–ù–∞–±–æ—Ä Lego ‚Äú–ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä‚Äù‚Äù>

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

* –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π –∏ –ø–æ–¥–∞—Ä–∫–æ–≤
* –•—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ
* –†–∞—Å—Å—ã–ª–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
* –ü–ª–∞—Ç—ë–∂–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–ø–æ–∫—É–ø–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤)

---

¬© 2025 Ed-Tech MVP Bot

